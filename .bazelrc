
# https://bazel.build/docs/user-manual

####################### startup #####################
#####################################################
####################### common ######################
common --enable_bzlmod
#####################################################
####################### test ########################
# https://bazel.build/docs/user-manual#running-tests
test --show_timestamps
# test --test_output=all
test --test_output=summary
test --test_summary=detailed
test --verbose_test_summary
test --verbose_failures
test --cache_test_results=no
# test --spawn_strategy=local
# test --flaky_test_attempts=2
#####################################################
####################### clean #######################
clean --expunge
clean --show_timestamps
#####################################################
####################### query #######################
query --order_output=full
#####################################################
####################### lint ########################
# Configure linting with aspect rules_lint
# Source: https://github.com/aspect-build/rules_lint/blob/main/docs/linting.md

# AUTOMATIC LINTING: Enable linting on ALL builds and tests by default
# Source: https://github.com/aspect-build/rules_lint/blob/main/docs/linting.md#usage
# Comment these out if you want to opt-in with --config=lint instead
build --aspects=//tools/lint:linters.bzl%ruff
build --@aspect_rules_lint//lint:fail_on_violation
build --@aspect_rules_lint//lint:debug
#####################################################
